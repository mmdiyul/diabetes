<ScrollView>
  <FlexboxLayout flexDirection="column" alignItems="center">
    <Image src="~/account.png" width="200px" style="margin-top: 24; margin-bottom: 12;" [nsRouterLink]="['/account']"></Image>
    <Label class="h3" style="font-weight: bold;" color="#000" [text]="'Selamat Datang, ' + (user ? user.username : '____') + '!'"></Label>
    <Label class="h3" style="font-weight: bold;" color="#000" [text]="'Berat Badan Terakhir: ' + (user ? user.berat : '0') + ' kg'"></Label>
    <FlexboxLayout flexDirection="row" alignItems="center" justifyContent="center" style="margin-top: 12; padding-left: 10; padding-right: 10;">
      <WrapLayout backgroundColor="#f1f1f1" style="margin-right: 5; padding: 25; border-radius: 10; width: 50%;">
        <Label class="h3" style="font-weight: bold;" color="#000" text="Batas Maksimum Kalori" textWrap="true"></Label>
        <Label class="h1" style="font-weight: bold;" color="#dd5340" [text]="user ? (user.bmr * 1.9).toFixed(0) : 0" textWrap="true"></Label>
      </WrapLayout>
      <WrapLayout backgroundColor="#f1f1f1" style="margin-left: 5; padding: 25; border-radius: 10; width: 50%;">
        <Label class="h3" style="font-weight: bold;" color="#000" text="Batas Minimum Kalori" textWrap="true"></Label>
        <Label class="h1" style="font-weight: bold;" color="#dd5340" [text]="user ? (user.bmr * 1.2).toFixed(0) : 0" textWrap="true"></Label>
      </WrapLayout>
    </FlexboxLayout>
    <FlexboxLayout style="margin-bottom: 10; width: 100%;">
      <Button text="Lihat Riwayat Berat Badan" [nsRouterLink]="['/history']" backgroundColor="#dd5340" color="#fff" style="border-radius: 10; margin-top: 12; font-weight: bold; padding-left: 10; padding-right: 10; width: 60%;"></Button>
      <Button text="Perbarui Data" [nsRouterLink]="['/update-weight']" backgroundColor="#4e4cbb" color="#fff" style="border-radius: 10; margin-top: 12; font-weight: bold; padding-left: 10; padding-right: 10; width: 40%;"></Button>
    </FlexboxLayout>
    <FlexboxLayout flexDirection="row" alignItems="center" justifyContent="center" style="margin-bottom: 24; padding-left: 10; padding-right: 10;">
      <WrapLayout backgroundColor="#f1f1f1" style="padding: 25; border-radius: 10; width: 100%;">
        <Label class="h3" style="font-weight: bold;" color="#000" text="Rekomendasi Makanan Untukmu" textWrap="true"></Label>
        <ng-container *ngIf="menuPagi">
          <FlexboxLayout flexDirection="column" backgroundColor="#ffffff" style="padding: 15; margin-top: 8; border-radius: 10; width: 100%;">
            <Label class="h3" style="font-weight: bold;" color="#000" [text]="menuPagi.nama" textWrap="true"></Label>
            <Label class="h4" [text]="menuPagi.detail"></Label>
            <FlexboxLayout>
              <Label class="h5" style="font-weight: bold;" [text]="'Kalori: ' + menuPagi.kalori"></Label>
              <Label class="h5" style="font-weight: bold;" text=" - "></Label>
              <Label class="h5" style="font-weight: bold;" text="Sarapan"></Label>
            </FlexboxLayout>
          </FlexboxLayout>
        </ng-container>
        <ng-container *ngIf="menuSiang">
          <FlexboxLayout flexDirection="column" backgroundColor="#ffffff" style="padding: 15; margin-top: 8; border-radius: 10; width: 100%;">
            <Label class="h3" style="font-weight: bold;" color="#000" [text]="menuSiang.nama" textWrap="true"></Label>
            <Label class="h4" [text]="menuSiang.detail"></Label>
            <FlexboxLayout>
              <Label class="h5" style="font-weight: bold;" [text]="'Kalori: ' + menuSiang.kalori"></Label>
              <Label class="h5" style="font-weight: bold;" text=" - "></Label>
              <Label class="h5" style="font-weight: bold;" text="Makan Siang"></Label>
            </FlexboxLayout>
          </FlexboxLayout>
        </ng-container>
        <ng-container *ngIf="menuMalam">
          <FlexboxLayout flexDirection="column" backgroundColor="#ffffff" style="padding: 15; margin-top: 8; border-radius: 10; width: 100%;">
            <Label class="h3" style="font-weight: bold;" color="#000" [text]="menuMalam.nama" textWrap="true"></Label>
            <Label class="h4" [text]="menuMalam.detail"></Label>
            <FlexboxLayout>
              <Label class="h5" style="font-weight: bold;" [text]="'Kalori: ' + menuMalam.kalori"></Label>
              <Label class="h5" style="font-weight: bold;" text=" - "></Label>
              <Label class="h5" style="font-weight: bold;" text="Makan Malam"></Label>
            </FlexboxLayout>
          </FlexboxLayout>
        </ng-container>
        <ng-container *ngIf="menuSnack && menuSnack.length">
          <ng-container *ngFor="let item of menuSnack">
            <FlexboxLayout flexDirection="column" backgroundColor="#ffffff" style="padding: 15; margin-top: 8; border-radius: 10; width: 100%;">
              <Label class="h3" style="font-weight: bold;" color="#000" [text]="item.nama" textWrap="true"></Label>
              <Label class="h4" [text]="item.detail"></Label>
              <FlexboxLayout>
                <Label class="h5" style="font-weight: bold;" [text]="'Kalori: ' + item.kalori"></Label>
                <Label class="h5" style="font-weight: bold;" text=" - "></Label>
                <Label class="h5" style="font-weight: bold;" text="Snack dan Buah-buahan"></Label>
              </FlexboxLayout>
            </FlexboxLayout>
          </ng-container>
        </ng-container>
        <ng-container *ngIf="menuMinuman && menuMinuman.length">
          <ng-container *ngFor="let item of menuMinuman">
            <FlexboxLayout flexDirection="column" backgroundColor="#ffffff" style="padding: 15; margin-top: 8; border-radius: 10; width: 100%;">
              <Label class="h3" style="font-weight: bold;" color="#000" [text]="item.nama" textWrap="true"></Label>
              <Label class="h4" [text]="item.detail"></Label>
              <FlexboxLayout>
                <Label class="h5" style="font-weight: bold;" [text]="'Kalori: ' + item.kalori"></Label>
                <Label class="h5" style="font-weight: bold;" text=" - "></Label>
                <Label class="h5" style="font-weight: bold;" text="Minuman"></Label>
              </FlexboxLayout>
            </FlexboxLayout>
          </ng-container>
        </ng-container>
        <Button text="Perbarui Rekomendasi Makanan" (tap)="updateRecomendation()" backgroundColor="#4e4cbb" color="#fff" style="border-radius: 10; margin-top: 12; font-weight: bold; width: 70%;"></Button>
      </WrapLayout>
    </FlexboxLayout>
  </FlexboxLayout>
</ScrollView>